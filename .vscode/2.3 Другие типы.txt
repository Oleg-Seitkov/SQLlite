Ð›Ð¾Ð³Ð¸Ñ‡ÐµÑÐºÐ¸Ðµ Ð·Ð½Ð°Ñ‡ÐµÐ½Ð¸Ñ
Ð’ ÑÐ·Ñ‹ÐºÐ°Ñ… Ð¿Ñ€Ð¾Ð³Ñ€Ð°Ð¼Ð¼Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ñ ÐµÑÑ‚ÑŒ Ð·Ð½Ð°Ñ‡ÐµÐ½Ð¸Ñ Â«Ð¸ÑÑ‚Ð¸Ð½Ð°Â» (true) Ð¸ Â«Ð»Ð¾Ð¶ÑŒÂ» (false). SQLite Ð¸Ñ… Ñ‚Ð¾Ð¶Ðµ Ð¿Ð¾Ð´Ð´ÐµÑ€Ð¶Ð¸Ð²Ð°ÐµÑ‚, Ð½Ð¾ Ð±ÐµÐ· ÑÐ¿ÐµÑ†Ð¸Ð°Ð»ÑŒÐ½Ð¾Ð³Ð¾ Ñ‚Ð¸Ð¿Ð°: true Ñ…Ñ€Ð°Ð½Ð¸Ñ‚ ÐºÐ°Ðº 1, Ð° false ÐºÐ°Ðº 0.

sqlite> select true;
1
sqlite> select false;
0
sqlite> select 'a' = 'a';
1
sqlite> select 'a' = 'b';
0
Ð’ ÑÐ·Ñ‹ÐºÐ°Ñ… Ð¿Ñ€Ð¾Ð³Ñ€Ð°Ð¼Ð¼Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ñ ÐµÑÑ‚ÑŒ Â«ÑƒÑÐ»Ð¾Ð²Ð½Ð°Ñ ÐºÐ¾Ð½ÑÑ‚Ñ€ÑƒÐºÑ†Ð¸ÑÂ» â€” Â«ÐµÑÐ»Ð¸ X, Ñ‚Ð¾ Y, Ð¸Ð½Ð°Ñ‡Ðµ ZÂ». Ð’ SQLite Ð¾Ð½Ð° Ñ€ÐµÐ»Ð¸Ð·Ð¾Ð²Ð°Ð½Ð° Ñ„ÑƒÐ½ÐºÑ†Ð¸ÐµÐ¹ iif().

iif(X, Y, Z)

Ð•ÑÐ»Ð¸ X â€” Ð¸ÑÑ‚Ð¸Ð½Ð°, Ð²Ð¾Ð·Ð²Ñ€Ð°Ñ‰Ð°ÐµÑ‚ Y, Ð¸Ð½Ð°Ñ‡Ðµ Ð²Ð¾Ð·Ð²Ñ€Ð°Ñ‰Ð°ÐµÑ‚ Z.

sqlite> select iif(true, 'Ð¸ÑÑ‚Ð¸Ð½Ð°!', 'Ð»Ð¾Ð¶ÑŒ :/');
Ð¸ÑÑ‚Ð¸Ð½Ð°!

sqlite> select iif(false, 'Ð¸ÑÑ‚Ð¸Ð½Ð°!', 'Ð»Ð¾Ð¶ÑŒ :/');
Ð»Ð¾Ð¶ÑŒ :/

sqlite> select iif(42 > 13, 'Ð¸ÑÑ‚Ð¸Ð½Ð°!', 'Ð»Ð¾Ð¶ÑŒ :/');
Ð¸ÑÑ‚Ð¸Ð½Ð°!

sqlite> select iif(round(3.14) = 3, 'Ð¸ÑÑ‚Ð¸Ð½Ð°!', 'Ð»Ð¾Ð¶ÑŒ :/');
Ð¸ÑÑ‚Ð¸Ð½Ð°!

ÐŸÑƒÑÑ‚Ð¾Ðµ Ð·Ð½Ð°Ñ‡ÐµÐ½Ð¸Ðµ
Ð¢Ð¸Ð¿ NULL Ð¿Ñ€ÐµÐ´ÑÑ‚Ð°Ð²Ð»ÐµÐ½ ÐµÐ´Ð¸Ð½ÑÑ‚Ð²ÐµÐ½Ð½Ñ‹Ð¼ Ð·Ð½Ð°Ñ‡ÐµÐ½Ð¸ÐµÐ¼ â€” NULL. ÐžÐ½Ð¾ Ð½Ðµ Ñ€Ð°Ð²Ð½Ð¾ Ð½Ð¸ÐºÐ°ÐºÐ¾Ð¼Ñƒ Ð´Ñ€ÑƒÐ³Ð¾Ð¼Ñƒ Ð·Ð½Ð°Ñ‡ÐµÐ½Ð¸ÑŽ, Ð¸ Ð´Ð°Ð¶Ðµ ÑÐ°Ð¼Ð¾Ð¼Ñƒ ÑÐµÐ±Ðµ Ð½Ðµ Ñ€Ð°Ð²Ð½Ð¾. Ð¢Ð°ÐºÐ¾Ðµ ÑƒÐ¶ Ð¾Ð½Ð¾ ÐµÑÑ‚ÑŒ ðŸ¤· Ð§Ñ‚Ð¾Ð±Ñ‹ Ð¿Ð¾Ð½ÑÑ‚ÑŒ, Ñ€Ð°Ð²Ð½Ð¾ Ð·Ð½Ð°Ñ‡ÐµÐ½Ð¸Ðµ NULL Ð¸Ð»Ð¸ Ð½ÐµÑ‚, Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÑŽÑ‚ ÑÐ¿ÐµÑ†Ð¸Ð°Ð»ÑŒÐ½ÑƒÑŽ ÐºÐ¾Ð½ÑÑ‚Ñ€ÑƒÐºÑ†Ð¸ÑŽ IS NULL:

sqlite> select 'Ð¿Ñ€Ð¸Ð²ÐµÑ‚' is null;
0
sqlite> select '' is null;
0
sqlite> select '' is not null;
1
sqlite> select null is null;
1
Ð’Ð¾Ñ‚ Ð½ÐµÑÐºÐ¾Ð»ÑŒÐºÐ¾ Ð¿Ð¾Ð»ÐµÐ·Ð½Ñ‹Ñ… Ñ„ÑƒÐ½ÐºÑ†Ð¸Ð¹ Ð´Ð»Ñ Ñ€Ð°Ð±Ð¾Ñ‚Ñ‹ Ñ NULL:

coalesce(X, Y, ...)

Ð’Ð¾Ð·Ð²Ñ€Ð°Ñ‰Ð°ÐµÑ‚ Ð¿ÐµÑ€Ð²Ñ‹Ð¹ Ð½Ðµ-NULL Ð°Ñ€Ð³ÑƒÐ¼ÐµÐ½Ñ‚. Ð•ÑÐ»Ð¸ Ð²ÑÐµ Ð°Ñ€Ð³ÑƒÐ¼ÐµÐ½Ñ‚Ñ‹ â€” NULL, Ñ‚Ð¾Ð¶Ðµ Ð²Ð¾Ð·Ð²Ñ€Ð°Ñ‰Ð°ÐµÑ‚ NULL.

sqlite> select coalesce(null, 1);
1
sqlite> select coalesce(null, 1, 2);
1
sqlite> select coalesce(null, null, 2);
2
nullif(X, Y)

Ð•ÑÐ»Ð¸ X Ñ€Ð°Ð²Ð½Ð¾ Y, Ð²Ð¾Ð·Ð²Ñ€Ð°Ñ‰Ð°ÐµÑ‚ NULL. Ð˜Ð½Ð°Ñ‡Ðµ Ð²Ð¾Ð·Ð²Ñ€Ð°Ñ‰Ð°ÐµÑ‚ X.

sqlite> select nullif(1, 2);
1
sqlite> select nullif(1, 1);
 

